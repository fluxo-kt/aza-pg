# aza-pg Environment Configuration Template
# =========================================
# Copy this file to .env and customize for your deployment
# WARNING: chmod 600 .env and NEVER commit real credentials

# PostgreSQL Credentials
# ----------------------
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
# POSTGRES_USER=postgres  # Optional: defaults to 'postgres'
# POSTGRES_DB=postgres    # Optional: defaults to 'postgres'

# Auto-Configuration Tuning (Optional)
# -------------------------------------
# Override detected RAM (in MB) - useful when cgroup detection fails
# POSTGRES_MEMORY=4096

# Workload Optimization (affects connection limits, statistics, and query planning)
# Options: web (default) | oltp | dw | mixed
# - web: max_connections=200, balanced for OLTP + read-heavy queries
# - oltp: max_connections=300, optimized for high-concurrency transactions
# - dw: max_connections=100, optimized for analytics (high statistics_target=500)
# - mixed: max_connections=120, balanced general-purpose workload
# POSTGRES_WORKLOAD_TYPE=web

# Storage Type Tuning (affects random_page_cost and I/O concurrency)
# Options: ssd (default) | hdd | san
# - ssd: random_page_cost=1.1, effective_io_concurrency=200
# - hdd: random_page_cost=4.0, effective_io_concurrency=2 (mechanical drives)
# - san: random_page_cost=1.1, effective_io_concurrency=1 (network storage)
# POSTGRES_STORAGE_TYPE=ssd

# Advanced: Shared Preload Libraries Override
# WARNING: Only override if you know what you're doing! Init scripts depend on certain extensions.
# Default: pg_stat_statements,pg_stat_monitor,auto_explain,pg_cron,pgaudit,timescaledb,safeupdate
# POSTGRES_SHARED_PRELOAD_LIBRARIES=pg_stat_statements,pg_stat_monitor,pg_cron,pgaudit

# PgBouncer Configuration (if using stacks/primary)
# --------------------------------------------------
# PGBOUNCER_AUTH_USER=pgbouncer
# PGBOUNCER_AUTH_PASSWORD=CHANGE_ME_PGBOUNCER_PASSWORD_HERE
# PGBOUNCER_POOL_MODE=transaction
# PGBOUNCER_MAX_CLIENT_CONN=1000
# PGBOUNCER_DEFAULT_POOL_SIZE=25
