# PostgreSQL Configuration
# Stack: primary
# Generated by scripts/config-generator/generator.ts
#
# DO NOT EDIT MANUALLY - Changes will be overwritten
# Edit scripts/config-generator/base-config.ts and regenerate

# Base Configuration
include = '/etc/postgresql/postgresql-base.conf'

# REPLICATION
synchronous_commit = 'on'
synchronous_standby_names = ''
max_replication_slots = 10
idle_replication_slot_timeout = '48h'
wal_sender_timeout = '60s'

# WAL
wal_level = 'replica'
max_wal_senders = 10
wal_keep_size = '1GB'
archive_mode = 'off'
archive_command = ''

# PG CRON
cron.database_name = 'postgres'
cron.log_run = 'on'
cron.log_statement = 'on'

# PGAUDIT
pgaudit.log = 'ddl,write,role'
pgaudit.log_statement_once = 'on'
pgaudit.log_level = 'log'
pgaudit.log_relation = 'on'

# WAL Archiving (disabled by default)
# Uncomment and configure for Point-in-Time Recovery (PITR):
# archive_mode = 'on'
# archive_command = 'cp %p /backup/wal/%f'

# Runtime auto-configuration
# The following settings are overridden at container startup:
# - Memory: shared_buffers, effective_cache_size, maintenance_work_mem, work_mem
# - Connections: max_connections, max_worker_processes, max_parallel_workers
# - Extensions: shared_preload_libraries (default: pg_stat_statements,auto_explain,pg_cron,pgaudit)
# Auto-config is always enabled and cannot be disabled.