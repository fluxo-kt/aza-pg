# PostgreSQL Configuration
# Stack: replica
# Generated by scripts/config-generator/generator.ts
#
# DO NOT EDIT MANUALLY - Changes will be overwritten
# Edit scripts/config-generator/base-config.ts and regenerate

# Base Configuration
include = '/etc/postgresql/postgresql-base.conf'

# REPLICATION
max_replication_slots = 5
hot_standby = 'on'
max_standby_archive_delay = '300s'
max_standby_streaming_delay = '300s'
hot_standby_feedback = 'on'
wal_receiver_status_interval = '10s'

# WAL
wal_level = 'replica'
wal_compression = 'lz4'
max_wal_senders = 5

# LOGGING
log_destination = 'stderr'
logging_collector = 'off'
log_min_duration_statement = 1000
log_line_prefix = '%t [%p]: [%l-1] user=%u,db=%d,app=%a,client=%h '
log_lock_waits = 'on'
log_temp_files = 0
log_timezone = 'UTC'
log_checkpoints = 'on'
log_connections = 'on'
log_disconnections = 'on'
log_autovacuum_min_duration = 0
log_replication_commands = 'on'

# AUTO EXPLAIN
auto_explain.log_min_duration = '3s'
auto_explain.log_analyze = 'on'
auto_explain.log_buffers = 'on'
auto_explain.log_nested_statements = 'on'
auto_explain.log_timing = 'off'

# PGAUDIT
pgaudit.log = 'none'

# Runtime auto-configuration
# The following settings are overridden at container startup:
# - shared_buffers, effective_cache_size, maintenance_work_mem, work_mem
# - max_connections, max_worker_processes, max_parallel_workers
# Set POSTGRES_SKIP_AUTOCONFIG=true to disable