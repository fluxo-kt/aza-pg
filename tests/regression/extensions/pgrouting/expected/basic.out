--
-- pgrouting - Basic regression test
-- Tests routing graph and Dijkstra shortest path algorithm
--
-- Create extension (requires postgis)
CREATE EXTENSION IF NOT EXISTS pgrouting CASCADE;
-- Verify extension created
SELECT
extname
FROM
pg_extension
WHERE
extname = 'pgrouting';
ERROR:  extension "pgrouting" is not available
HINT:  The extension must first be installed on the system where PostgreSQL is running.
extname
---------
(0 rows)
-- Create simple network graph
CREATE TABLE test_routing (id serial PRIMARY KEY, source INTEGER, target INTEGER, cost DOUBLE PRECISION);
-- Insert test edges
INSERT INTO
test_routing (source, target, cost)
VALUES
(1, 2, 1.0),
(2, 3, 2.0),
(1, 3, 5.0),
(3, 4, 1.0);
-- Test Dijkstra shortest path (1 -> 4)
SELECT
seq,
node,
edge,
cost
FROM
pgr_dijkstra ('SELECT id, source, target, cost FROM test_routing', 1, 4, FALSE)
ORDER BY
seq;
ERROR:  function pgr_dijkstra(unknown, integer, integer, boolean) does not exist
LINE 7:   pgr_dijkstra ('SELECT id, source, target, cost FROM test_r...
^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
-- Cleanup
DROP TABLE test_routing;
